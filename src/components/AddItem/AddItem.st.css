:import {
    -st-from: "../../common/formatters.st";
    -st-named: color, applyOpacity, fallback, font;
}

:import {
    -st-from: "../../common/palette.st.css";
    -st-named: errorColor;
}

:import {
    -st-from: "wix-style-react/dist/src/AddItem/AddItem.st.css";
    -st-default: AddItem;
}

:import {
    -st-from: "wix-style-react/dist/src/Text/Text.st.css";
    -st-default: Text;
}

/*Defaults*/
:vars {
    DefaultBorderColor: color-8;
    DefaultBackgroundColor: color-1;
    DefaultTextColor: color-8;
}

/*Overrides*/
:vars {
    BorderColor: --overridable;
    BackgroundColor: --overridable;
    TextColor: --overridable;
}

/*Fallbacks*/
:vars {
    CurrentBorderColor: color(fallback(value(BorderColor), value(DefaultBorderColor)));
    CurrentBackgroundColor: color(fallback(value(BackgroundColor), value(DefaultBackgroundColor)));
    CurrentTextColor: color(fallback(value(TextColor), value(DefaultTextColor)));
}

.root {
    -st-extends: AddItem;
    -st-states: hasError;
}

.root:theme(dashes) {
    border: dashed 1px value(CurrentBorderColor);
    background-color: value(CurrentBackgroundColor);
    color: value(CurrentTextColor);
}

.root:theme(dashes):hover {
    background-color: applyOpacity(#ED24D9, 0.1);
    border: dashed 1px applyOpacity(value(CurrentBorderColor), 0.6);
}

.root:theme(dashes):active {
    background-color: value(CurrentBackgroundColor);
}

/* We might change opacity on hover */
.root:hasError, .root:hasError:not(:disabled):theme(dashes):hover {
    background-color: #FFFFFF;
    border: dashed 1px color(value(errorColor));
    color: color(value(errorColor));
    opacity: 1;
}

/* Remove WSR focus, opacity is just for now */
.root:not(:disabled):focus-visible:theme(dashes):hasError {
    border: dashed 1px color(value(errorColor));
    opacity: 0.6;
}

.root:theme(dashes):disabled {
    background-color: #FFFFFF;
    color: #969696;
    border: dashed 1px #969696;
    opacity: 1;
}

/* Remove WSR focus, opacity is just for now */
.root:not(:disabled):focus-visible:theme(dashes) {
    box-shadow: none;
    border: dashed 1px value(CurrentBorderColor);
    opacity: 0.6;
}

.root::text Text {
    color: color(value(CurrentTextColor));
    font: font("{theme: 'Body-M', size: '14px', lineHeight: '24px'}");
}

.root:hasError::text Text {
    color: value(errorColor);
}

.root:disabled::text Text {
    color: #969696;
}
